---
title: "월간 회고록: 2022년 5월"
description: |
     실무에서 1년간 메인 연구과제를 수행하며 겪은 크고 작은 난관들
author:
    - name: Taemo Bang
      URL: https://twitter.com/TaemoBang
date: "2022-06-10"
output:
    distill::distill_article:
        self_contained: false
        toc: true
        toc_depth: 2
draft: TRUE
preview: preview.jpg
creative_commons: CC BY-NC
twitter:
    site: "@TaemoBang"
    creator: "@TaemoBang"
categories:
    -  Memory
    -  Work
---

```{r distill-setup, include = FALSE}
# echo - Display code in output document (default = TRUE)
# eval - Run code in chunk (default = TRUE)
library(xaringanExtra)
library(rmarkdown)
xaringanExtra::use_clipboard()
```

[![Photo by Fredy Jacob on Unsplash](preview.jpg){width="700"}](https://unsplash.com/photos/t0SlmanfFcg?utm_source=unsplash&utm_medium=referral&utm_content=creditShareLink)

5월은 재직 중인 연구센터에서 맡고 있는 메인 연구과제 \<빅데이터를 이용한 미세먼지 건강영향평가\>에서 메타분석을 수행하는데에 가장 많은 시간을 할애했습니다. 작년부터 수행해 온 해당 과제에 관한 분석이 얼추 모두 마무리가 되어갑니다. 대학원을 졸업하고 실무에 나와 처음으로 맡은 프로젝트이기도 했고, 데이터 수집, 데이터 마트 구축 부터 분석, 보고서 작성까지 처음부터 끝까지 맡아 진행한 과제였어서 그런지 정도 많이 가지만 솔직히 이제 그만하고 싶은 마음도 듭니다. 가장 중요한 논문 작업 단계가 남아있는데, 이런 마음이 드는게 정상인지 모르겠네요.😂 그만큼 정말 많은 양의 일을 저 혼자 처리했어야하기도 했고.. 중간중간에 여러 난관에 봉착하기도 했으며 그것을 해결해나면서 쾌감을 느끼기도 했습니다. 이번 월간 회고에서는 제가 겪은 크고 작은 난관들에 대해 이야기해보려고 합니다.

## 1 SAS를 다시 손에 잡다

본 연구과제는 건강보험공단 빅데이터 맞춤형 연구DB로 진행됩니다. 자료의 특성 상 데이터 프라이버시때문에 건강보험공단에서 운영 중인 분석센터에 직접 가야지만 데이터를 열람하고 처리할 수 있습니다. 연구DB 신청 당시 분석 툴에 SAS + R을 선택할 수 있길래 당연히 데이터를 확인하고 처리하는 것도 R로 가능할 것이라 생각 했는데, 구축된 데이터는 SAS 서버 상에 놓여져있더군요. 맞춤형 연구DB 특성상 보통 수십기가가 넘기때문에 분석센터에서 로컬 컴퓨터에서 구동하는 방식으로 제공되는 R로 구축한 원 자료를 핸들링하는 것은 불가능합니다..즉, SAS로 원 자료를 랭글링[^1]해야만 하는 상황이였습니다.

[^1]: **데이터 랭글링**(Data Wrangling) 혹은 데이터 먼징(Data Munging)이라고 불리는 이것은 원자료(raw data)를 보다 쉽게 접근하고 분석할 수 있도록 데이터를 정리하고 통합하는 과정. [🔗Source](https://ko.wikipedia.org/wiki/데이터_랭글링)

사실 좀 당황스러웠습니다. 하하.. SAS는 학부생 때 2년정도 배우고 손을 뗀 상태였기 때문이죠. 제가 원하는 데이터 마트를 원활하게 구축하기 위해서는 SAS에서 SQL과 Macro[^2]의 적절한 활용이 필요했습니다. 다행히, 학부생때 SQL과 Macro를 공부했던 기억이 남아있었죠. 그러나, 약 3년의 시간이 흘렀기에 복습이 필요했고 위키독스의 [**SAS로 하는 기초 데이터 전처리, 핸들링(Data handling)**](https://wikidocs.net/book/2678)으로기본기를 다시 다진 후에 본격적인 랭글링 작업에 들어갔습니다. 분석센터로 출장을 가기 전 데이터 구조를 떠올리며 미리 코드를 작성하고, 출장에 가서는 오류가 있다면 필요한 디버깅만을 해주는 식으로 효율적으로 작업을 진행해 나갔습니다.

[^2]: 일반적인 프로그래밍 언어의 함수(function)와 같은 기능을 한다고 보시면 됩니다

이러한 작업을 반복하다보니 SAS SQL, Macro가 손에 익었고 제가 필요로 하는 데이터 마트를 수월하게 구축하고 추출해낼 수 있었습니다. 분석센터로 출장을 간 첫 날 데이터 마트 구축에 R은 이용할 수 없다는 사실을 깨달았던 때가 아직 생생하네요.

## 2 다중공선성 문제

## 3 모형 최적화 문제

### 지역별 분석

## 4 지역별 분석 결과를 하나의 분석 결과로

### 
