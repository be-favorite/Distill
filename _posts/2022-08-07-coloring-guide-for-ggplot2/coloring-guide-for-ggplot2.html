<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

<style>
  div.csl-bib-body { }
  div.csl-entry {
    clear: both;
    }
  .hanging div.csl-entry {
    margin-left:2em;
    text-indent:-2em;
  }
  div.csl-left-margin {
    min-width:2em;
    float:left;
  }
  div.csl-right-inline {
    margin-left:2em;
    padding-left:1em;
  }
  div.csl-indent {
    margin-left: 2em;
  }
</style>

  <!--radix_placeholder_meta_tags-->
  <title>ggplot2 ì»¬ëŸ¬ë§ ê°€ì´ë“œ</title>

  <meta property="description" itemprop="description" content="ë” ì ì€ ìˆ˜ì˜ ì»¬ëŸ¬ë¡œ ì§ê´€ì ì¸ ì‹œê°í™”ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•"/>

  <link rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/"/>

  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2022-08-07"/>
  <meta property="article:created" itemprop="dateCreated" content="2022-08-07"/>
  <meta name="article:author" content="Taemo Bang"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="ggplot2 ì»¬ëŸ¬ë§ ê°€ì´ë“œ"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="ë” ì ì€ ìˆ˜ì˜ ì»¬ëŸ¬ë¡œ ì§ê´€ì ì¸ ì‹œê°í™”ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•"/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="ggplot2 ì»¬ëŸ¬ë§ ê°€ì´ë“œ"/>
  <meta property="twitter:description" content="ë” ì ì€ ìˆ˜ì˜ ì»¬ëŸ¬ë¡œ ì§ê´€ì ì¸ ì‹œê°í™”ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•"/>
  <meta property="twitter:site" content="@TaemoBang"/>
  <meta property="twitter:creator" content="@TaemoBang"/>

  <!--/radix_placeholder_meta_tags-->
  
  <meta name="citation_reference" content="citation_title=4 Ways to use colors in ggplot more efficiently;citation_publication_date=2022;citation_author=Albert Rapp"/>
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output","draft","preview","creative_commons","twitter","categories","bibliography"]}},"value":[{"type":"character","attributes":{},"value":["ggplot2 ì»¬ëŸ¬ë§ ê°€ì´ë“œ"]},{"type":"character","attributes":{},"value":["ë” ì ì€ ìˆ˜ì˜ ì»¬ëŸ¬ë¡œ ì§ê´€ì ì¸ ì‹œê°í™”ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","URL"]}},"value":[{"type":"character","attributes":{},"value":["Taemo Bang"]},{"type":"character","attributes":{},"value":["https://twitter.com/TaemoBang"]}]}]},{"type":"character","attributes":{},"value":["2022-08-07"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","toc_depth"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[2]}]}]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["preview.jpg"]},{"type":"character","attributes":{},"value":["CC BY-NC"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["site","creator"]}},"value":[{"type":"character","attributes":{},"value":["@TaemoBang"]},{"type":"character","attributes":{},"value":["@TaemoBang"]}]},{"type":"character","attributes":{},"value":["Visualization"]},{"type":"character","attributes":{},"value":["references.bib"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["coloring-guide-for-ggplot2_files/anchor-4.2.2/anchor.min.js","coloring-guide-for-ggplot2_files/bowser-1.9.3/bowser.min.js","coloring-guide-for-ggplot2_files/clipboard-2.0.6/clipboard.min.js","coloring-guide-for-ggplot2_files/distill-2.2.21/template.v2.js","coloring-guide-for-ggplot2_files/figure-html5/mpg1-1.png","coloring-guide-for-ggplot2_files/figure-html5/mpg2-1.png","coloring-guide-for-ggplot2_files/figure-html5/mpg3-1.png","coloring-guide-for-ggplot2_files/figure-html5/mpg4-1.png","coloring-guide-for-ggplot2_files/figure-html5/mpg5-1.png","coloring-guide-for-ggplot2_files/figure-html5/spend_label1-1.png","coloring-guide-for-ggplot2_files/figure-html5/spend_label2-1.png","coloring-guide-for-ggplot2_files/figure-html5/spend_label3-1.png","coloring-guide-for-ggplot2_files/figure-html5/spend_label4-1.png","coloring-guide-for-ggplot2_files/figure-html5/spend1-1.png","coloring-guide-for-ggplot2_files/figure-html5/spend2-1.png","coloring-guide-for-ggplot2_files/figure-html5/spend3-1.png","coloring-guide-for-ggplot2_files/figure-html5/spend4-1.png","coloring-guide-for-ggplot2_files/header-attrs-2.14/header-attrs.js","coloring-guide-for-ggplot2_files/jquery-3.6.0/jquery-3.6.0.js","coloring-guide-for-ggplot2_files/jquery-3.6.0/jquery-3.6.0.min.js","coloring-guide-for-ggplot2_files/jquery-3.6.0/jquery-3.6.0.min.map","coloring-guide-for-ggplot2_files/popper-2.6.0/popper.min.js","coloring-guide-for-ggplot2_files/tippy-6.2.7/tippy-bundle.umd.min.js","coloring-guide-for-ggplot2_files/tippy-6.2.7/tippy-light-border.css","coloring-guide-for-ggplot2_files/tippy-6.2.7/tippy.css","coloring-guide-for-ggplot2_files/tippy-6.2.7/tippy.umd.min.js","coloring-guide-for-ggplot2_files/webcomponents-2.0.0/webcomponents.js","coloring-guide-for-ggplot2_files/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.css","coloring-guide-for-ggplot2_files/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.js","preview.jpg","references.bib","time-spent-with-relationships-by-age-us.csv"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        if ($(this).children()[0].nodeName == "D-FOOTNOTE") {
          var fn = $(this).children()[0]
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          return "<p>" + $('#ref-' + ref).html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // fix footnotes in tables (#411)
      // replacing broken distill.pub feature
      $('table d-footnote').each(function() {
        // we replace internal showAtNode methode which is triggered when hovering a footnote
        this.hoverBox.showAtNode = function(node) {
          // ported from https://github.com/distillpub/template/pull/105/files
          calcOffset = function(elem) {
              let x = elem.offsetLeft;
              let y = elem.offsetTop;
              // Traverse upwards until an `absolute` element is found or `elem`
              // becomes null.
              while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                  x += elem.offsetLeft;
                  y += elem.offsetTop;
              }

              return { left: x, top: y };
          }
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
          const bbox = node.getBoundingClientRect();
          const offset = calcOffset(node);
          this.show([offset.left + bbox.width, offset.top + bbox.height]);
        }
      })

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      // ignore leaflet img layers (#106)
      figures = figures.filter(':not(img[class*="leaflet"])')
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="coloring-guide-for-ggplot2_files/header-attrs-2.14/header-attrs.js"></script>
  <script src="coloring-guide-for-ggplot2_files/clipboard-2.0.6/clipboard.min.js"></script>
  <link href="coloring-guide-for-ggplot2_files/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.css" rel="stylesheet" />
  <script src="coloring-guide-for-ggplot2_files/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.js"></script>
  <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
  <script src="coloring-guide-for-ggplot2_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="coloring-guide-for-ggplot2_files/popper-2.6.0/popper.min.js"></script>
  <link href="coloring-guide-for-ggplot2_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="coloring-guide-for-ggplot2_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="coloring-guide-for-ggplot2_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="coloring-guide-for-ggplot2_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="coloring-guide-for-ggplot2_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="coloring-guide-for-ggplot2_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="coloring-guide-for-ggplot2_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"ggplot2 ì»¬ëŸ¬ë§ ê°€ì´ë“œ","description":"ë” ì ì€ ìˆ˜ì˜ ì»¬ëŸ¬ë¡œ ì§ê´€ì ì¸ ì‹œê°í™”ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•","authors":[{"author":"Taemo Bang","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2022-08-07T00:00:00.000+09:00","citationText":"Bang, 2022"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>ggplot2 ì»¬ëŸ¬ë§ ê°€ì´ë“œ</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt-tag">Visualization</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>ë” ì ì€ ìˆ˜ì˜ ì»¬ëŸ¬ë¡œ ì§ê´€ì ì¸ ì‹œê°í™”ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•</p></p>
</div>

<div class="d-byline">
  Taemo Bang  
  
<br/>2022-08-07
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#ì¤€ë¹„í•˜ê¸°" id="toc-ì¤€ë¹„í•˜ê¸°">ì¤€ë¹„í•˜ê¸°</a></li>
<li><a href="#ìŒì˜ì„-í™œìš©í•˜ì" id="toc-ìŒì˜ì„-í™œìš©í•˜ì">ìŒì˜ì„
í™œìš©í•˜ì</a></li>
<li><a href="#ìŒì˜ë§Œìœ¼ë¡œëŠ”-ë¶€ì¡±í•´"
id="toc-ìŒì˜ë§Œìœ¼ë¡œëŠ”-ë¶€ì¡±í•´">ìŒì˜ë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•´</a></li>
<li><a href="#ì „ë‹¬í•˜ê³ -ì‹¶ì€-ë‚´ìš©ë§Œ-ê°•ì¡°í•˜ì"
id="toc-ì „ë‹¬í•˜ê³ -ì‹¶ì€-ë‚´ìš©ë§Œ-ê°•ì¡°í•˜ì">ì „ë‹¬í•˜ê³  ì‹¶ì€ ë‚´ìš©ë§Œ
ê°•ì¡°í•˜ì</a></li>
<li><a href="#ë¼ë²¨ë§-í™œìš©í•˜ê¸°" id="toc-ë¼ë²¨ë§-í™œìš©í•˜ê¸°">ë¼ë²¨ë§
í™œìš©í•˜ê¸°</a></li>
<li><a href="#ë§ºìŒ-ë§" id="toc-ë§ºìŒ-ë§">ë§ºìŒ ë§</a></li>
</ul>
</nav>
</div>
<p><a
href="https://unsplash.com/photos/46juD4zY1XA?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditShareLink"><img
src="preview.jpg" width="700"
alt="Photo by David Pisnoy on Unsplash" /></a></p>
<p>ì˜¤ëŠ˜ì€ <code>ggplot2</code>ì—ì„œ ë” ì ì€ ìˆ˜ì˜ ì»¬ëŸ¬ë¡œ ë” ì§ê´€ì ì¸
ì‹œê°í™”ë¥¼ ê°€ëŠ¥í•˜ê²Œë” í•´ì£¼ëŠ” 4ê°€ì§€ ë°©ì‹ì— ëŒ€í•´ ì†Œê°œí•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.
ggplot2ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì§„í–‰ë˜ëŠ” ì˜ˆì œì´ê¸´ í•˜ë‚˜, ë³¸ ê¸€ì—ì„œ ì†Œê°œí•  ë°©ì‹ë“¤ì—
ë‹´ê²¨ìˆëŠ” ì•„ì´ë””ì–´ëŠ” ì–¸ì–´(e.g.Â Python), ì‹œê°í™” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§‰ë¡ í•˜ê³ 
ì ìš©ì´ ê°€ëŠ¥í• ê±°ë¼ê³  ë´…ë‹ˆë‹¤.ë¬¼ë¡ , <code>ggplot2</code>ë§Œí¼ ì§§ê³  ê°€ë…ì„±
ì¢‹ì€ ì½”ë“œë¡œ êµ¬í˜„ì´ ê°€ëŠ¥í• ì§€ëŠ” ë¯¸ì§€ìˆ˜ì´ì§€ë§Œìš”.ğŸ˜</p>
<aside>
ë³¸ ê¸€ì€ <span class="citation" data-cites="rapp2022">(<a
href="#ref-rapp2022" role="doc-biblioref">Rapp 2022</a>)</span>ë¥¼
ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
</aside>
<p>ëŒ€ì¤‘ë“¤ì€ ë§ì´ ì•„ë‹Œ ê·¸ë¦¼ì„ ê¸°ì–µí•©ë‹ˆë‹¤. ê·¸ë˜ì„œ, ì˜ ë§Œë“¤ì–´ì§„ ë°ì´í„°
ì‹œê°í™”ëŠ” ê°•ë ¥í•œ í˜ì„ ê°–ìŠµë‹ˆë‹¤. ì¢…ì¢… ë°ì´í„° ì‹œê°í™”ë¥¼ í•˜ì‹œë‹¤ê°€ ì§€ë‚˜ì¹˜ê²Œ
ë§ì€ ìƒ‰ì„ ì‚¬ìš©í•˜ê²Œ ë˜ì–´ ì˜¤íˆë ¤ ì „ë‹¬ë ¥ì´ ë–¨ì–´ì§„ë‹¤ëŠ” ëŠë‚Œì„ ë°›ì€ ì ì´ ìˆì§€
ì•Šìœ¼ì‹ ê°€ìš”? ê·¸ë ‡ë‹¤ë©´ ì´ ê¸€ì´ ë„ì›€ì´ ë˜ì‹¤ ìˆ˜ë„ ìˆê² ìŠµë‹ˆë‹¤.ğŸ˜€</p>
<h2 id="ì¤€ë¹„í•˜ê¸°">ì¤€ë¹„í•˜ê¸°</h2>
<p>ë³¸ê²©ì ì¸ ì‹œì‘ ì „ ëª‡ ê°€ì§€ ì¤€ë¹„ë¥¼ í•˜ê³ ì í•©ë‹ˆë‹¤. ggplot2ì—ì„œ ì œê³µí•˜ëŠ”
ë‹¤ì–‘í•œ í…Œë§ˆ ì¤‘ <code>theme_minimal()</code>ì„ ì‚¬ìš©í•  ì˜ˆì •ì´ê³ , í°íŠ¸,
ê·¸ë¦¼ ì œëª©ê³¼ ìƒ‰ ë“±ì— ëª‡ ê°€ì§€ ì¡°ì •ì„ ì¤„ ì˜ˆì •ì…ë‹ˆë‹¤:</p>
<ul>
<li><p><code>showtext</code> íŒ¨í‚¤ì§€ë¥¼ í†µí•´ <a
href="https://fonts.google.com/specimen/Fira+Sans">Fira Sans font</a>
ì„¤ì •</p></li>
<li><p>ê·¸ë¦¼ ì œëª©ì€ ê¸°ë³¸ ì¢Œì¸¡ ì •ë ¬, ìƒ‰ë§¹(color-blind)ê¹Œì§€ ê³ ë ¤í•œ <a
href="https://jfly.uni-koeln.de/color/">Okabe Ito</a> ì»¬ëŸ¬ íŒ”ë ˆíŠ¸
ì‚¬ìš©</p>
<ul>
<li>ë³¸ ê¸€ì˜ ì‘ì„±ì— ì°¸ê³ í•œ ê¸€ì˜ ì›ì €ìëŠ” <a
href="https://clauswilke.com/dataviz/">Fundamentals of Data
Visualization by Claus Wilke</a>ë¥¼ ì½ì€ ë’¤, Okabe Ito ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ë¥¼
ì„ í˜¸í•˜ê²Œ ë˜ì—ˆë‹¤ê³  í•©ë‹ˆë‹¤.</li>
</ul></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/yixuan/showtext'>showtext</a></span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"Fira Sans"</span>, <span class='st'>"firasans"</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/showtext/man/showtext_auto.html'>showtext_auto</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>theme_customs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>  text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>'firasans'</span>, size <span class='op'>=</span> <span class='fl'>16</span><span class='op'>)</span>,</span>
<span>  plot.title.position <span class='op'>=</span> <span class='st'>'plot'</span>,</span>
<span>  plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span></span>
<span>    face <span class='op'>=</span> <span class='st'>'bold'</span>, </span>
<span>    colour <span class='op'>=</span> <span class='fu'>thematic</span><span class='fu'>::</span><span class='fu'><a href='https://rstudio.github.io/thematic/reference/okabe_ito.html'>okabe_ito</a></span><span class='op'>(</span><span class='fl'>8</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>6</span><span class='op'>]</span>,</span>
<span>    margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>2</span>, r <span class='op'>=</span> <span class='fl'>0</span>, b <span class='op'>=</span> <span class='fl'>7</span>, l <span class='op'>=</span> <span class='fl'>0</span>, unit <span class='op'>=</span> <span class='st'>"mm"</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span>,</span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme_get.html'>theme_set</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> <span class='va'>theme_customs</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h2 id="ìŒì˜ì„-í™œìš©í•˜ì">ìŒì˜ì„ í™œìš©í•˜ì</h2>
<p><code>{ggplot2}</code> íŒ¨í‚¤ì§€ì—ì„œ ì œê³µí•˜ëŠ” <code>mpg</code>
ë°ì´í„°ì…‹ì— ìë™ì°¨ ì¢…ë¥˜ ë³„ ë¹ˆë„ë¥¼ ì‹œê°í™”í•´ë´…ì‹œë‹¤. ì „ì— ì¶©ë¶„íˆ ë³´ì…¨ì„ë§Œí•œ
ë°ì´í„°ë¼ ìƒê°í•´ì„œ, ë°ì´í„°ì…‹ì— ê´€í•œ ì„¤ëª…ì€ ìŠ¤í‚µí•˜ê² ìŠµë‹ˆë‹¤. ì´ëŸ° ë°©ì‹ìœ¼ë¡œ
ì‹œê°í™”ë¥¼ í•´ë³´ì‹  ê²½í—˜ì´ ìˆìœ¼ì‹¤ê²ë‹ˆë‹¤:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>mpg</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>year</span><span class='op'>)</span>, fill <span class='op'>=</span> <span class='va'>class</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>"year"</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="coloring-guide-for-ggplot2_files/figure-html5/mpg1-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<p>ìë™ì°¨ ì¢…ë¥˜ê°€ ë§ë‹¤ë³´ë‹ˆ ë¬´ë ¤ 7ê°œì˜ ì»¬ëŸ¬ë¥¼ ì‹œê°í™”ì— ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
ëˆ„êµ°ê°€ëŠ” ì´ ê·¸ë¦¼ì„ ë³´ê³  í˜•í˜•ìƒ‰ìƒ‰ ë§ˆìŒì— ë“¤ì–´í•  ìˆ˜ë„ ìˆê² ì§€ë§Œ, ì œê°€
ë³´ê¸°ì— ì´ë ‡ê²Œë‚˜ ë§ì€ ìˆ˜ì˜ ì»¬ëŸ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‹œê°í™”ëŠ” ê½¤ë‚˜ ì •ì‹ ì—†ì–´
ë³´ì¸ë‹¤ê³  ëŠê»´ì§‘ë‹ˆë‹¤. ì´ë ‡ê²Œ ìˆ˜ë§ì€ ìˆ˜ì¤€ì„ ê°–ëŠ” ë²”ì£¼í˜• ë³€ìˆ˜ì— ê´€í•œ
ì»¬ëŸ¬ë§ì— ìˆì–´ì„œ ë” ì ì€, ìµœëŒ€ 3ê°œ ì •ë„ì˜ ì»¬ëŸ¬ë§Œ ì‚¬ìš©í•˜ì—¬ ì‹œê°í™”ë¥¼
ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì€ ì—†ì„ê¹Œìš”? ì´ì œ ê·¸ ì•„ì´ë””ì–´ë¥¼ ì†Œê°œí•˜ê³ ì í•©ë‹ˆë‹¤. ìë™ì°¨
ì¢…ë¥˜ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´ ìƒ‰ì¡°(hues) ë¿ë§Œì´ ì•„ë‹Œ, ìŒì˜(shades)ì„ í™œìš©í•˜ëŠ”
ê²ƒì´ì£ . 3ê°€ì§€ ì»¬ëŸ¬ë¥¼ ì‚¬ìš©í•´ 7ê°œì˜ ìë™ì°¨ ì¢…ë¥˜ë¥¼ êµ¬ë¶„í• ê±´ë°, ì¼ë¶€ ìƒ‰ìƒì€
ë” íˆ¬ëª…í•˜ê²Œ ë§Œë“¤ì–´ ì£¼ì¤„ê²ë‹ˆë‹¤. ë¯¸ë¦¬ ë§ì”€ë“œë¦¬ìë©´, <code>minivan</code>ì„
ë‹¨ë… í•˜ë‚˜ì˜ ê·¸ë£¹ìœ¼ë¡œ ì„¤ì •í•´ì£¼ì–´ ì´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ íˆ¬ëª…ë„ê°€ ì¤„ì–´ë“¤ê³ 
ëŠ˜ì–´ë‚˜ê²Œë” ë§Œë“œëŠ” ê²ƒì´ ì•ìœ¼ë¡œ í•´ë‚˜ê°ˆ ë°ì´í„° ì‹œê°í™”ì˜ Key idea
ì…ë‹ˆë‹¤.</p>
<p>ì´ë¥¼ ìœ„í•´ì„œëŠ” ìš°ì„  ë°ì´í„°ì— ìë™ì°¨ì˜ ì¢…ë¥˜ë¥¼ 3ê°€ì§€ ì •ë„ë¡œ êµ¬ë¶„ì§“ëŠ”
ìƒˆë¡œìš´ ê·¸ë£¹ ë³€ìˆ˜ë¥¼ ìƒì„±í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Group classes into three groups (to reduce colors to 3)</span></span>
<span><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>mpg</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    year <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>year</span><span class='op'>)</span>,</span>
<span>    class_group <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>class</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'2seater'</span>, <span class='st'>'compact'</span>, <span class='st'>'midsize'</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"grp1"</span>,</span>
<span>      <span class='va'>class</span> <span class='op'>==</span> <span class='st'>'minivan'</span> <span class='op'>~</span> <span class='st'>"grp2"</span>,</span>
<span>      <span class='cn'>T</span> <span class='op'>~</span> <span class='st'>"grp3"</span></span>
<span>    <span class='op'>)</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<p>ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìš°ì„  ë¨¼ì € ì‹œê°í™”ë¥¼ í•´ë³´ì£ :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>shades_plt</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>year</span>, fill <span class='op'>=</span> <span class='va'>class_group</span>, alpha <span class='op'>=</span> <span class='va'>class</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span></span>
<span>    x <span class='op'>=</span> <span class='st'>'Year'</span>,</span>
<span>    y <span class='op'>=</span> <span class='st'>'Counts'</span>,</span>
<span>    alpha <span class='op'>=</span> <span class='st'>'Class'</span>,</span>
<span>    title <span class='op'>=</span> <span class='st'>'Show shades, not hues'</span></span>
<span>  <span class='op'>)</span></span>
<span><span class='va'>shades_plt</span> </span></code></pre>
</div>
<p><img src="coloring-guide-for-ggplot2_files/figure-html5/mpg2-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<p>ìƒ‰ì¡°ì™€ ìŒì˜ê¹Œì§€ í™œìš©í•´ 3ê°€ì§€ ì»¬ëŸ¬ì •ë„ë¡œ ì¤„ì´ê¸´ í–ˆì§€ë§Œ, ì „ë‹¬ë ¥ì€ ë§¤ìš°
ë–¨ì–´ì§‘ë‹ˆë‹¤. ìš°ë¦¬ ëˆˆìœ¼ë¡œ ìƒ‰ì¡°ì™€ ìŒì˜ì„ ì¡°í•©í•´ ê·¸ë¦¼ì˜ ìë™ì°¨ ì¢…ë¥˜ë¥¼
êµ¬ë¶„í•´ë‚´ëŠ” ê²ƒì€ ë§¤ìš° ì–´ë µì£ . íˆ¬ëª…ë„ì™€ ìƒ‰ìƒì„ ì§ì ‘ ì¡°ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.
íˆ¬ëª…ë„ëŠ” <code>suv</code> -&gt; <code>minivan</code>ê¹Œì§€ ì ì°¨ ì¤„ì–´ë“¤ê³ ,
<code>minvan</code> ì´í›„ë¶€í„°ëŠ” ë‹¤ì‹œ ì¤„ì–´ë“  ì–‘ë§Œí¼ íˆ¬ëª…ë„ê°€ ëŠ˜ì–´ë‚˜ë„ë¡
ì„¤ì •ì„ í•´ì£¼ë ¤ê³  í•©ë‹ˆë‹¤:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Color-blind safe colors</span></span>
<span><span class='va'>colors</span> <span class='op'>&lt;-</span>  <span class='fu'>thematic</span><span class='fu'>::</span><span class='fu'><a href='https://rstudio.github.io/thematic/reference/okabe_ito.html'>okabe_ito</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>)</span></span>
<span><span class='co'># Possible levels of transparency (one for each class)</span></span>
<span><span class='va'>alpha_max</span> <span class='op'>&lt;-</span> <span class='fl'>1</span></span>
<span><span class='va'>alpha_min</span> <span class='op'>&lt;-</span> <span class='fl'>0.7</span></span>
<span><span class='va'>alpha_vals</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='va'>alpha_max</span>, <span class='va'>alpha_min</span>, length.out <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span>, </span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='va'>alpha_min</span>, <span class='va'>alpha_max</span>, length.out <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span><span class='op'>[</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span></span>
<span><span class='op'>)</span></span>
<span><span class='va'>alpha_vals</span></span></code></pre>
</div>
<pre><code>[1] 1.0 0.9 0.8 0.7 0.8 0.9 1.0</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Tweak previous plot</span></span>
<span><span class='va'>shades_plt</span> <span class='op'>&lt;-</span> <span class='va'>shades_plt</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_alpha_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>alpha_vals</span><span class='op'>)</span></span>
<span><span class='va'>shades_plt</span></span></code></pre>
</div>
<p><img src="coloring-guide-for-ggplot2_files/figure-html5/mpg3-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<p>ì•„ê¹Œë³´ë‹¤ëŠ” ì¢€ ë‚«ìŠµë‹ˆë‹¤. íˆ¬ëª…ë„ë¥¼ <code>minvan</code>ì˜ ì¢Œìš°ë¥¼
ê¸°ì¤€ìœ¼ë¡œ ì¤„ì–´ë“¤ì—ˆë‹¤ê°€ ëŠ˜ì–´ë‚˜ë„ë¡ ì„¤ì •í•´ì£¼ì—ˆìœ¼ë¯€ë¡œ, ìë™ì°¨ ì¢…ë¥˜ì— ê´€í•œ
êµ¬ë¶„ì´ ì´ì œ ì–´ëŠì •ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤. ìš°ì¸¡ ë²”ë¡€ë¥¼ í•˜ë‚˜ë¡œ ì¢€ í†µí•©í•´ì„œ ì„¤ì •í•˜ë©´
ì¢‹ì„ ê²ƒ ê°™ì€ë°ìš”. 3ê°€ì§€ ìƒ‰ìƒì— ìš°ë¦¬ê°€ ì„¤ì •í•œ 7ê°œ íˆ¬ëª…ë„ë¥¼ ê°ê° ì¤˜ì„œ
ë§ì´ì£ . ì´ ì‘ì—…ì€ <code>guides()</code> í•¨ìˆ˜ë¥¼ í†µí•´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
<code>fill</code>ì— ê´€í•œ ë²”ë¡€(<code>class_group</code>)ëŠ” ì‚­ì œë¥¼ í•œ
ë’¤ì—, <code>guide_legend()</code>ë¥¼ í†µí•´ <code>alpha</code>ì— ê´€í•œ
ë²”ë¡€ì— <code>fill</code>ì˜ ìƒ‰ìƒì„ ê°€ì ¸ì™€ ìš°ë¦¬ê°€ ì‚¬ì „ì— ì„¤ì •í•œ ê°ê° 3ê°œ
ê·¸ë£¹(<code>class_group</code>)ì˜ ì»¬ëŸ¬ì— ë§ê²Œ ë„£ì–´ì¤„ê²ë‹ˆë‹¤. ë§ì´ ì¡°ê¸ˆ
ë³µì¡í•´ë³´ì´ì§€ë§Œ, ì½”ë“œë¥¼ ë³´ë©´ ë” ì‰½ê²Œ ì´í•´í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>shades_plt</span> <span class='op'>&lt;-</span> <span class='va'>shades_plt</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guides.html'>guides</a></span><span class='op'>(</span></span>
<span>    fill <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guide_none.html'>guide_none</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    alpha <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guide_legend.html'>guide_legend</a></span><span class='op'>(</span></span>
<span>      override.aes <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>colors</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>3</span><span class='op'>)</span><span class='op'>]</span></span>
<span>      <span class='op'>)</span></span>
<span>    <span class='op'>)</span></span>
<span>  <span class='op'>)</span> </span>
<span><span class='va'>shades_plt</span></span></code></pre>
</div>
<p><img src="coloring-guide-for-ggplot2_files/figure-html5/mpg4-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<h2 id="ìŒì˜ë§Œìœ¼ë¡œëŠ”-ë¶€ì¡±í•´">ìŒì˜ë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•´</h2>
<p>ì¶©ë¶„íˆ ê´œì°®ì€ ì‹œê°í™”ë¥¼ í–ˆì§€ë§Œ, ì•„ì‰¬ìš´ ë¶€ë¶„ì´ í•˜ë‚˜ ìˆìŠµë‹ˆë‹¤. ì¸ì ‘í•œ
ì»¬ëŸ¬ ë¸”ë¡ë“¤ì—ì„œëŠ” ìë™ì°¨ ì¢…ë¥˜ êµ¬ë¶„ì´ ìª¼ê¸ˆ ë¶ˆí¸í•´ ë³´ì…ë‹ˆë‹¤. ì´ ë¬¸ì œëŠ”
ì†ì‰½ê²Œ í•´ê²°í•´ì¤„ ìˆ˜ ìˆì–´ìš”. ë¸”ë¡ë§ˆë‹¤ ì„  í•˜ë‚˜ì”©ë§Œ ê·¸ì–´ì£¼ë©´ ë§ì´ì£ . ì•ì„ 
ì‹œê°í™” ì½”ë“œì— <code>geom_bar()</code> í•œ ì¤„ì´ë©´ í•´ê²°í•  ìˆ˜
ìˆìŠµë‹ˆë‹¤.ğŸ˜„</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>year</span>, fill <span class='op'>=</span> <span class='va'>class_group</span>, alpha <span class='op'>=</span> <span class='va'>class</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>col <span class='op'>=</span> <span class='st'>'white'</span><span class='op'>)</span> <span class='op'>+</span> <span class='co'># Add lines for distinction</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_alpha_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>alpha_vals</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guides.html'>guides</a></span><span class='op'>(</span></span>
<span>    fill <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guide_none.html'>guide_none</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    alpha <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guide_legend.html'>guide_legend</a></span><span class='op'>(</span>override.aes <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>colors</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>3</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span></span>
<span>    x <span class='op'>=</span> <span class='st'>'Year'</span>,</span>
<span>    y <span class='op'>=</span> <span class='st'>'Counts'</span>,</span>
<span>    alpha <span class='op'>=</span> <span class='st'>'Class'</span>,</span>
<span>    title <span class='op'>=</span> <span class='st'>'Group categories together by color, \nbut keep showing them'</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
<p><img src="coloring-guide-for-ggplot2_files/figure-html5/mpg5-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<h2 id="ì „ë‹¬í•˜ê³ -ì‹¶ì€-ë‚´ìš©ë§Œ-ê°•ì¡°í•˜ì">ì „ë‹¬í•˜ê³  ì‹¶ì€ ë‚´ìš©ë§Œ
ê°•ì¡°í•˜ì</h2>
<p>ì´ì œ ì¡°ê¸ˆ ë‹¤ë¥¸ ì´ì•¼ê¸°ë¥¼ í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤. ê¼­ ìœ„ì™€ ê°™ì´ ëª¨ë“  ë²”ì£¼ì—
ëŒ€í•´ ì»¬ëŸ¬ë¥¼ ì¤„ í•„ìš”ëŠ” ì—†ëŠ” ìƒí™©ë„ ìˆì§€ ì•Šì„ê¹Œìš”? ì˜ˆë¥¼ ë“¤ìë©´, ìš°ë¦¬ê°€
ì‹œê°í™”ë¥¼ í†µí•´ ê¼­ ê°•ì¡°í•´ì„œ ì „ë‹¬í•˜ê³  ì‹¶ì€ ë‚´ìš©ì´ ìˆì„ ë•Œì²˜ëŸ¼ìš”. ì´ë²ˆì—
ì‚¬ìš©í•  ì˜ˆì‹œ ë°ì´í„°ëŠ” í¥ë¯¸ë¡œìš´ ë‹¤ì–‘í•œ ë°ì´í„°ì…‹ì„ ì œê³µí•´ì£¼ëŠ” <a
href="https://ourworldindata.org/time-with-others-lifetime">Our World in
Data</a>ì—ì„œ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤. ë¯¸êµ­ì¸ë“¤ì„ ëŒ€ìƒìœ¼ë¡œ â€œìš°ë¦¬ëŠ” ì¼ìƒë™ì•ˆ ëˆ„êµ¬ì™€
ì‹œê°„ì„ ë³´ë‚´ëŠ”ê°€?â€ë¥¼ ì•Œê¸° ìœ„í•œ ëª©ì ìœ¼ë¡œ ì„¤ë¬¸ì¡°ì‚¬ë¥¼ ìˆ˜í–‰í•œ ìë£Œì…ë‹ˆë‹¤.
ì—¬ëŸ¬ ë‚˜ì´ëŒ€ì˜ ë¯¸êµ­ì¸ë“¤ì„ ëŒ€ìƒìœ¼ë¡œ í•˜ë£¨ì— í‰ê· ì ìœ¼ë¡œ ëˆ„êµ¬ì™€ ì–¼ë§ˆë‚˜ ì‹œê°„ì„
ë³´ë‚´ëŠ”ì§€ì— ëŒ€í•´ ì¡°ì‚¬í•œ ìë£Œë¼ê³  í•  ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤. ìœ„ ë§í¬ì˜ ì°¨íŠ¸ì— ì•„ë˜
ìš°ì¸¡ íƒ­ì„ ë³´ì‹œë©´ Downloadë¥¼ ëˆŒëŸ¬ì„œ ë°ì´í„°ë¥¼ ë°›ìœ¼ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<p>ì´ ìë£Œë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ê·¸ë¦¼ì„ ê·¸ë ¤ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê³¼ì—° ë‚˜ì´ì—
ë”°ë¼ ìš°ë¦¬ê°€ ì‹œê°„ì„ í•¨ê»˜ ë³´ë‚´ëŠ” ëŒ€ìƒì€ ì–´ë–¤ ì‹ì˜ íŒ¨í„´ì„ ë³´ì´ë©°
ë³€í™”í• ê¹Œìš”?</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Some data wrangling</span></span>
<span><span class='va'>time_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readr.tidyverse.org/reference/read_delim.html'>read_csv</a></span><span class='op'>(</span><span class='st'>"./time-spent-with-relationships-by-age-us.csv"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/rename.html'>rename_with</a></span><span class='op'>(</span></span>
<span>    <span class='op'>~</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'Entitity'</span>, <span class='st'>'Code'</span>, <span class='st'>'Age'</span>, <span class='st'>'alone'</span>, <span class='st'>'friends'</span>, <span class='st'>'children'</span>, <span class='st'>'parents'</span>, </span>
<span>       <span class='st'>'partner'</span>, <span class='st'>'coworkers'</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_longer.html'>pivot_longer</a></span><span class='op'>(</span></span>
<span>    cols <span class='op'>=</span> <span class='va'>alone</span><span class='op'>:</span><span class='va'>coworkers</span>, </span>
<span>    names_to <span class='op'>=</span> <span class='st'>'person'</span>,</span>
<span>    values_to <span class='op'>=</span> <span class='st'>'minutes'</span></span>
<span>  <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'>janitor</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/janitor/man/clean_names.html'>clean_names</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>age</span> <span class='op'>&lt;=</span> <span class='fl'>80</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Color-blind safe colors</span></span>
<span><span class='va'>colors</span> <span class='op'>&lt;-</span> <span class='fu'>thematic</span><span class='fu'>::</span><span class='fu'><a href='https://rstudio.github.io/thematic/reference/okabe_ito.html'>okabe_ito</a></span><span class='op'>(</span><span class='fl'>7</span><span class='op'>)</span><span class='op'>[</span><span class='op'>-</span><span class='fl'>6</span><span class='op'>]</span></span>
<span></span>
<span><span class='co'># Line plot</span></span>
<span><span class='va'>p</span> <span class='op'>&lt;-</span> <span class='va'>time_data</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>age</span>, y <span class='op'>=</span> <span class='va'>minutes</span>, col <span class='op'>=</span> <span class='va'>person</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>1.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span>xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>15</span>, <span class='fl'>81</span><span class='op'>)</span>, expand <span class='op'>=</span> <span class='cn'>F</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>minor_breaks <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>'Age (in years)'</span>, y <span class='op'>=</span> <span class='st'>'Minutes'</span>, col <span class='op'>=</span> <span class='st'>'Time spent'</span><span class='op'>)</span></span>
<span><span class='va'>p</span></span></code></pre>
</div>
<p><img src="coloring-guide-for-ggplot2_files/figure-html5/spend1-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<p>ë³´í†µ ì´ë ‡ê²Œë“¤ ì‹œê°í™”í•˜ê³¤ í•˜ì£ . ë˜ ìˆ˜ë§ì€ ì»¬ëŸ¬ì— ì§ë©´í–ˆìŠµë‹ˆë‹¤. ì´
ê·¸ë¦¼ì´ ëŒ€í™”í˜• í”Œë¡¯(interactive plot)ì´ë©´ í•œ ë²ˆì— í•œ ì¤„ì— ì§‘ì¤‘í•  ìˆ˜
ìˆê²Œë” í•´ì£¼ê¸° ë•Œë¬¸ì—, ë”±íˆ ë¬¸ì œê°€ ë˜ì§„ ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜, ì´ ê·¸ë¦¼ í•œì¥ë§Œ
ë†“ê³  ë´¤ì„ë•ŒëŠ” ë¬´ìŠ¨ ë§ì„ ì „ë‹¬í•˜ê³ ì í•˜ëŠ”ì§€ íŒŒì•…í•˜ê¸°ê°€ í˜ë“­ë‹ˆë‹¤. ì´ëŸ°
ì¢…ë¥˜ì˜ ê·¸ë¦¼ì„ ìŠ¤íŒŒê²Œí‹° í”Œë¡¯(spaghetti plot)ì´ë¼ê³  í‘œí˜„í•˜ê¸°ë„ í•©ë‹ˆë‹¤.
ê·¼ë°, ì´ ìŠ¤íŒŒê²Œí‹° í”Œë¡¯ì€ ì§€ê¸ˆ ë„ˆë¬´ ì§€ì €ë¶„í•œ ìƒíƒœë„¤ìš”.</p>
<p>ë§Œì•½ ìš°ë¦¬ê°€ í•˜ê³ ìí•˜ëŠ” ì´ì•¼ê¸°ê°€ ë¬´ì—‡ì¸ì§€ ì•„ëŠ” ìƒíƒœë¼ë©´, ì¤‘ìš”í•œ ë¶€ë¶„ë§Œ
ê°•ì¡°í•¨ìœ¼ë¡œì¨ ì´ ì§€ì €ë¶„í•œ ìŠ¤íŒŒê²Œí‹° í”Œë¡¯ì„ ì „ë‹¬ë ¥ ìˆëŠ” ê¹”ë”í•œ ìŠ¤íŒŒê²Œí‹°
í”Œë¡¯ìœ¼ë¡œ ë§Œë“¤ì–´ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. <code>ggplothighlight</code> íŒ¨í‚¤ì§€ê°€ ê·¸
í•´ê²°ì±…ì´ ë˜ì–´ì¤ë‹ˆë‹¤. íŒ¨í‚¤ì§€ ì•ˆì˜ <code>ggplothighlight()</code> í•¨ìˆ˜ë¥¼
ì´ìš©í•´ ë ˆì´ì–´ë¥¼ í•˜ë‚˜ë” ì–¹ì–´ì„œ, í•„í„°ë§ì„ í•´ì¤„ ìˆ˜ ìˆì–´ìš”. ì•„ì£¼ í¸ë¦¬í•œ
íŒ¨í‚¤ì§€ì£ . íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ì•ŠëŠ” ë°ì´í„° í¬ì¸íŠ¸ëŠ” ëª¨ì¡°ë¦¬ íšŒìƒ‰ìœ¼ë¡œ
í‘œí˜„ì´ ë©ë‹ˆë‹¤:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/yutannihilation/gghighlight/'>gghighlight</a></span><span class='op'>)</span></span>
<span><span class='va'>alone_plt</span> <span class='op'>&lt;-</span> <span class='va'>p</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/gghighlight/man/gghighlight.html'>gghighlight</a></span><span class='op'>(</span><span class='va'>person</span> <span class='op'>==</span> <span class='st'>'alone'</span>, use_direct_label <span class='op'>=</span> <span class='cn'>F</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>'Emphasize just one or a few categories'</span><span class='op'>)</span></span>
<span><span class='va'>alone_plt</span></span></code></pre>
</div>
<p><img src="coloring-guide-for-ggplot2_files/figure-html5/spend2-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<p>ì´ ê·¸ë¦¼ì— í…ìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ì—¬ ìš°ë¦¬ê°€ í•˜ê³ ì‹¶ì€ ì´ì•¼ê¸°ë¥¼ ì¢€ ë” ê°•ì¡°í• 
ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>alone_plt</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span></span>
<span>    <span class='st'>'text'</span>,</span>
<span>    x <span class='op'>=</span> <span class='fl'>15</span>,</span>
<span>    y <span class='op'>=</span> <span class='fl'>455</span>,</span>
<span>    label <span class='op'>=</span> <span class='st'>'We spend a lot of time alone...'</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>'firasans'</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>7</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
<p><img src="coloring-guide-for-ggplot2_files/figure-html5/spend3-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<p>í•˜ê³  ì‹¶ì€ ì´ì•¼ê¸°ê°€ í•˜ë‚˜ê°€ ì•„ë‹ˆë¼ ì—¬ëŸ¬ê°œë¼ë©´ ì–´ë–¤ ë°©ë²•ì´ ìˆì„ê¹Œìš”?
ì „í˜€ ë¬¸ì œê°€ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.ğŸ˜€ <code>gghighlight()</code>ë¥¼ ì‚¬ìš©í•´ ì—¬ëŸ¬
ì¡°ê±´ì„ ê²°í•©í•´ ê·¸ì € ì—¬ëŸ¬ê°œì˜ í•˜ì´ë¼ì´íŒ…ì„ ì£¼ë©´ë©ë‹ˆë‹¤.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>age_40_plt</span> <span class='op'>&lt;-</span> <span class='va'>p</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/gghighlight/man/gghighlight.html'>gghighlight</a></span><span class='op'>(</span></span>
<span>    <span class='va'>person</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'alone'</span>, <span class='st'>'children'</span><span class='op'>)</span>, </span>
<span>    <span class='va'>age</span> <span class='op'>&gt;=</span> <span class='fl'>38</span>, </span>
<span>    use_direct_label <span class='op'>=</span> <span class='cn'>F</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>38</span>, xend <span class='op'>=</span> <span class='fl'>38</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='cn'>Inf</span>, yend <span class='op'>=</span> <span class='fl'>300</span>, linetype <span class='op'>=</span> <span class='fl'>2</span>, col <span class='op'>=</span> <span class='st'>'grey20'</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>'Emphasize just one or a few categories'</span><span class='op'>)</span> </span>
<span></span>
<span><span class='va'>age_40_plt</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span></span>
<span>    <span class='st'>'text'</span>,</span>
<span>    x <span class='op'>=</span> <span class='fl'>15</span>,</span>
<span>    y <span class='op'>=</span> <span class='fl'>403</span>,</span>
<span>    label <span class='op'>=</span> <span class='st'>'Around the age of 40, we spend \nless time with children and \nmore time alone.'</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>'firasans'</span>,</span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.85</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>5.5</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
<p><img src="coloring-guide-for-ggplot2_files/figure-html5/spend4-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<h2 id="ë¼ë²¨ë§-í™œìš©í•˜ê¸°">ë¼ë²¨ë§ í™œìš©í•˜ê¸°</h2>
<p>ì•ì„œ ë³¸ ëª¨ë“  ê·¸ë¦¼ë“¤ì—ì„œëŠ” ê·¸ë¦¼ì˜ ì´í•´ë¥¼ ë•ê¸°ìœ„í•œ ë²”ë¡€(legend)ê°€
ìš°ì¸¡ì— ìë¦¬í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ì´ ë²”ë¡€ëŠ” ê·¸ë¦¼ì—ì„œ ê½¤ë‚˜ í° ê³µê°„ì„
ì°¨ì§€í•©ë‹ˆë‹¤. ì•„ìš¸ëŸ¬, ë²”ë¡€ëŠ” ê·¸ë¦¼ì— ì§‘ì¤‘ë„ë¥¼ ë–¨ì–´ëœ¨ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¼ì˜
ì´í•´ë¥¼ ìœ„í•´ì„œëŠ” í•„ì—°ì ìœ¼ë¡œ ë²”ë¡€ì™€ ê·¸ë¦¼ì„ ë²ˆê°ˆì•„ê°€ë©° ë´ì•¼í•˜ê¸° ë•Œë¬¸ì´ì£ .
ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ë°©ë²•ì€ ì—†ì„ê¹Œìš”? ë‹¹ì—°íˆ ìˆìŠµë‹ˆë‹¤. ë²”ë¡€ë¥¼ ì—†ì• ê³  ê·¸ë¦¼ì—
ë¼ë²¨ë§ì„ í†µí•´ ìš°ë¦¬ê°€ í•˜ê³ ì í•˜ëŠ” ì´ì•¼ê¸°ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ë²•ì„
ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì‹±ê¸€ ë ˆì´ë¸”ì— ëŒ€í•´ì„œëŠ” <code>annotate()</code>, ë‹¤ì¤‘
ë ˆì´ë¸”ì— ëŒ€í•´ì„œëŠ” <code>geom_text()</code>ë¥¼ ì´ìš©í•˜ë©´ ë˜ëŠ”ë°ìš”. ìš°ì„ 
<code>annotate()</code>ë¥¼ í™œìš©í•´ ì„¤ë¬¸ì¡°ì‚¬ ë°ì´í„°ì—ì„œ í–ˆë˜ ì‹œê°í™”ë“¤ì„
ë¼ë²¨ë§ì„ í†µí•´ ê°œì„ ì‹œì¼œ ë³´ê² ìŠµë‹ˆë‹¤:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>alone_plt</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span></span>
<span>    <span class='st'>'text'</span>,</span>
<span>    x <span class='op'>=</span> <span class='fl'>15</span>,</span>
<span>    y <span class='op'>=</span> <span class='fl'>455</span>,</span>
<span>    label <span class='op'>=</span> <span class='st'>'We spend a lot of time alone...'</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>'firasans'</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>7</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span></span>
<span>    <span class='st'>'text'</span>, </span>
<span>    x <span class='op'>=</span> <span class='fl'>70</span>, </span>
<span>    y <span class='op'>=</span> <span class='fl'>420</span>, </span>
<span>    label <span class='op'>=</span> <span class='st'>'alone'</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>7</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>'firasans'</span>,</span>
<span>    color <span class='op'>=</span> <span class='va'>colors</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>'Label directly'</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>'none'</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="coloring-guide-for-ggplot2_files/figure-html5/spend_label1-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<p>ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ê³µê°„ë„ ì„¸ì´ë¸Œí•˜ê³ , ê·¸ë¦¼ì— ì§‘ì¤‘ë„ë„ í›¨ì”¬ ë†’í˜€ì¤„ ìˆ˜
ìˆì£ . ë²”ë¡€ì™€ í”Œë¡¯ì„ ëˆˆìœ¼ë¡œ ì™“ë‹¤ê°“ë‹¤ í•  í•„ìš”ë„ ì—†ê³ ìš”. íŠ¹ì • ìƒí™©ì—ëŠ”
ì´ëŸ¬í•œ ì§ì ‘ì  ë¼ë²¨ë§ì— ë˜ë‹¤ë¥¸ ë©‹ì§„ ì˜µì…˜ì´ ìˆìŠµë‹ˆë‹¤. í˜„ì¬ ìœ„ ê·¸ë¦¼ì—ëŠ”
aloneì´ë¼ëŠ” ë‹¨ì–´ê°€ ì¤‘ë³µìœ¼ë¡œ ë“¤ì–´ê°€ìˆì£ . ê°•ì¡°í•œ ì„  ì•„ë˜ aloneì„ ì—†ì• ê³ 
ì„ ê³¼ ë™ì¼í•œ ìƒ‰ìƒì„ ì¢Œì¸¡ ë¬¸ì¥ì˜ aloneì— ë„£ì–´ì£¼ëŠ” ê²ƒì€ ì–´ë–¨ê¹Œìš”? ë”
ë§¤ë ¥ì ì¸ ì‹œê°í™”ê°€ ë  ê²ƒë§Œ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì§€ ì•Šë‚˜ìš”?</p>
<p>ì´ë¥¼ ìœ„í•´ì„œëŠ” <code>ggtext</code> íŒ¨í‚¤ì§€ë¥¼ í™œìš©í•´ HTML ë¬¸ë²•ì„
ì´ìš©í•´ì•¼í•©ë‹ˆë‹¤. <code>annotation()</code>ì˜ <code>text</code> geomì„
<code>richtext</code> geomìœ¼ë¡œ ë°”ê¾¸ê³ , ìš°ë¦¬ê°€ ì»¬ëŸ¬ë¥¼ ë°˜ì˜í•˜ê³ ì í•˜ëŠ”
í…ìŠ¤íŠ¸ì— ëŒ€í•´ì„œëŠ” HTML ì½”ë“œë¥¼ í¬í•¨í•˜ëŠ” ë¬¸ìì—´ì„ ë§Œë“¤ì–´ ì£¼ëŠ” ê³¼ì •ì´
í•„ìš”í•©ë‹ˆë‹¤. ë§ì´ ì¢€ ë³µì¡í•´ë³´ì´ì§€ë§Œ, ì½”ë“œëŠ” ê½¤ ê°„ë‹¨í•©ë‹ˆë‹¤:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://wilkelab.org/ggtext/'>ggtext</a></span><span class='op'>)</span></span>
<span><span class='va'>color_alone</span> <span class='op'>&lt;-</span> <span class='fu'>glue</span><span class='fu'>::</span><span class='fu'><a href='https://glue.tidyverse.org/reference/glue.html'>glue</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"We spend a lot of time &lt;span style = 'color:{colors[1]};'&gt;alone&lt;/span&gt;..."</span></span>
<span><span class='op'>)</span></span>
<span><span class='va'>color_alone</span></span></code></pre>
</div>
<pre><code>We spend a lot of time &lt;span style = &#39;color:#E69F00;&#39;&gt;alone&lt;/span&gt;...</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>alone_plt</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>'Label directly'</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span></span>
<span>    <span class='st'>'richtext'</span>,</span>
<span>    x <span class='op'>=</span> <span class='fl'>15</span>,</span>
<span>    y <span class='op'>=</span> <span class='fl'>400</span>,</span>
<span>    label <span class='op'>=</span> <span class='va'>color_alone</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>'firasans'</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>6</span>,</span>
<span>    label.color <span class='op'>=</span> <span class='cn'>NA</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>'none'</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="coloring-guide-for-ggplot2_files/figure-html5/spend_label2-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<p>ë©‹ì§€ì§€ ì•ŠìŠµë‹ˆê¹Œ? ì´ëŸ° ì‹ìœ¼ë¡œ ì§ì ‘ì ìœ¼ë¡œ ë¼ë²¨ë§ í•˜ëŠ” ë°©ì‹ì€ ì•ì„ 
ì˜ˆì œì—ì„œ ìš°ë¦¬ê°€ 2ê°€ì§€ ìŠ¤í† ë¦¬ë¥¼ ê°•ì¡°í–ˆë˜ ê·¸ë¦¼ì— ëŒ€í•´ì„œë„ ë°˜ì˜ì´
ê°€ëŠ¥í•©ë‹ˆë‹¤:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>age_40_text</span> <span class='op'>&lt;-</span> <span class='fu'>glue</span><span class='fu'>::</span><span class='fu'><a href='https://glue.tidyverse.org/reference/glue.html'>glue</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"Around the age of 40, we spent &lt;br&gt; less time with </span></span>
<span><span class='st'>  &lt;span style = 'color:{colors[2]};'&gt;children&lt;/span&gt; </span></span>
<span><span class='st'>  and &lt;br&gt; more time &lt;span style = 'color:{colors[1]};'&gt;alone&lt;/span&gt;."</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>age_40_plt</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>'Label directly'</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span></span>
<span>    <span class='st'>'richtext'</span>,</span>
<span>    x <span class='op'>=</span> <span class='fl'>15</span>,</span>
<span>    y <span class='op'>=</span> <span class='fl'>350</span>,</span>
<span>    label <span class='op'>=</span> <span class='va'>age_40_text</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>'firasans'</span>,</span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>1.25</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>5</span>,</span>
<span>    label.color <span class='op'>=</span> <span class='cn'>NA</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>'none'</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="coloring-guide-for-ggplot2_files/figure-html5/spend_label3-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<p>ì´ëŸ° ì™„ì„±ë„ ìˆëŠ” ì‹œê°í™”ëŠ” ì²­ì¤‘ ë˜ëŠ” ëŒ€ì¤‘ë“¤ì—ê²Œ ìš°ë¦¬ê°€ ì „ë‹¬í•˜ê³ ì í•˜ëŠ”
ì´ì•¼ê¸°ë¥¼ ì§ê´€ì ìœ¼ë¡œ ì „ë‹¬í•´ì¤ë‹ˆë‹¤. ë²”ë¡€ì™€ í”Œë¡¯ì„ ëˆˆìœ¼ë¡œ ì™”ë‹¤ê°”ë‹¤ í•˜ëŠ”
í”¼ë¡œë¥¼ ëœì–´ì£¼ëŠ” ê²ƒì€ ë¤ì´ê³ ìš”.</p>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ, ìš°ë¦¬ê°€ ì´ˆê¸°ì— í–ˆë˜ ì˜ˆì œì¸ ë§‰ëŒ€ê·¸ë˜í”„(bar chart) ì˜ˆì œì—ë„
ì´ëŸ° ë‹¤ì´ë ‰íŠ¸ ë¼ë²¨ë§ì„ ë°˜ì˜í•´ë´…ì‹œë‹¤. ë‹¤ì¤‘ ë ˆì´ë¸”ì´ë¯€ë¡œ
<code>geom_text()</code>, ê·¸ë¦¬ê³  <code>position_stack()</code>ì´
ì¶”ê°€ì ìœ¼ë¡œ í•„ìš”ë¡œ ë©ë‹ˆë‹¤.</p>
<p>ì–´ë–¤ ì´ìœ ì—ì„œì¸ì§€.. ìë™ì°¨ ì¢…ë¥˜ì˜ ê° ë ˆì´ë¸” ìœ„ì¹˜ê°€ ì •ë ¬ì´ ì•ˆë˜ì–´
ë¶ˆê°€í”¼í•˜ê²Œ ì—°ë„ë³„, ìë™ì°¨ ì¢…ë¥˜ë³„ ë§‰ëŒ€ê·¸ë˜í”„ì˜ ë†’ì´ë¥¼
ëˆ„ì ë¹ˆë„(<code>csum</code>)ë¡œ ê³„ì‚°í•˜ê³ , ë ˆì´ë¸”ì´ ë“¤ì–´ê°ˆ
ìœ„ì¹˜(<code>n</code>)ë¥¼ ì ë‹¹í•˜ê²Œ ì¡ì•„ì£¼ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.ğŸ¤¯ ì½”ë“œê°€
ì¡°ê¸ˆ ë³µì¡í•´ ë³´ì´ê¸´ í•˜ë‚˜, ì¶œë ¥ëœ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì‹œë©´ ì–´ë–¤ ì‘ì—…ì„ ì§„í–‰í–ˆëŠ”ì§€
ì‰½ê²Œ ì´í•´í•˜ì‹¤ ìˆ˜ ìˆì„ê²ë‹ˆë‹¤.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>manual_counts</span> <span class='op'>&lt;-</span> <span class='va'>mpg</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>year</span>, <span class='va'>class</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    year <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>year</span><span class='op'>)</span>,</span>
<span>    class_group <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>class</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'2seater'</span>, <span class='st'>'compact'</span>, <span class='st'>'midsize'</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"grp1"</span>,</span>
<span>      <span class='va'>class</span> <span class='op'>==</span> <span class='st'>'minivan'</span> <span class='op'>~</span> <span class='st'>"grp2"</span>,</span>
<span>      <span class='cn'>T</span> <span class='op'>~</span> <span class='st'>"grp3"</span></span>
<span>    <span class='op'>)</span></span>
<span>  <span class='op'>)</span> </span>
<span><span class='va'>manual_counts</span></span></code></pre>
</div>
<pre><code># A tibble: 14 Ã— 4
   year  class          n class_group
   &lt;fct&gt; &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;      
 1 1999  2seater        2 grp1       
 2 1999  compact       25 grp1       
 3 1999  midsize       20 grp1       
 4 1999  minivan        6 grp2       
 5 1999  pickup        16 grp3       
 6 1999  subcompact    19 grp3       
 7 1999  suv           29 grp3       
 8 2008  2seater        3 grp1       
 9 2008  compact       22 grp1       
10 2008  midsize       21 grp1       
11 2008  minivan        5 grp2       
12 2008  pickup        17 grp3       
13 2008  subcompact    16 grp3       
14 2008  suv           33 grp3       </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>labels</span> <span class='op'>&lt;-</span> <span class='va'>manual_counts</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>class <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>class</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>  </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>year</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='va'>year</span>, <span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>class</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    csum <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cumsum.html'>cumsum</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>, </span>
<span>    n <span class='op'>=</span> <span class='op'>(</span><span class='fu'>lag</span><span class='op'>(</span><span class='va'>csum</span>, default <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>+</span> <span class='va'>csum</span><span class='op'>)</span> <span class='op'>/</span> <span class='fl'>2</span></span>
<span>  <span class='op'>)</span></span>
<span><span class='va'>labels</span></span></code></pre>
</div>
<pre><code># A tibble: 14 Ã— 5
# Groups:   year [2]
   year  class          n class_group  csum
   &lt;fct&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;chr&gt;       &lt;int&gt;
 1 1999  suv         14.5 grp3           29
 2 1999  subcompact  38.5 grp3           48
 3 1999  pickup      56   grp3           64
 4 1999  minivan     67   grp2           70
 5 1999  midsize     80   grp1           90
 6 1999  compact    102.  grp1          115
 7 1999  2seater    116   grp1          117
 8 2008  suv         16.5 grp3           33
 9 2008  subcompact  41   grp3           49
10 2008  pickup      57.5 grp3           66
11 2008  minivan     68.5 grp2           71
12 2008  midsize     81.5 grp1           92
13 2008  compact    103   grp1          114
14 2008  2seater    116.  grp1          117</code></pre>
</div>
<p>ì•„ìš¸ëŸ¬, ìš°ë¦¬ê°€ ë³¸ ì‹œê°í™”ì—ì„œ í•œ ê°€ì§€ ë” ê·¹ë³µí•´ì•¼í•  ë‚œê´€ì€ ë°”ë¡œ
ìë™ì°¨ì˜ ì¢…ë¥˜ ì¤‘ <code>2seater</code>ì˜ ë¹ˆë„ê°€ ë§¤ìš° ì‘ì•„ì„œ ë ˆì´ë¸”ì´
ë“¤ì–´ê°ˆ ìë¦¬ê°€ ì—†ëŠ” ì ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ, <code>2seater</code>ì˜ ê²½ìš°
ë ˆì´ë¸”ì„ ë§‰ëŒ€ì˜ ë§¨ ìœ„ì— í‘œì‹œë˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ëª¨ë“  ë‚œê´€ë“¤ì„
ê·¹ë³µí•˜ê³  ì™„ì„±í•œ ê·¸ë¦¼ì„ ê³µê°œí•©ë‹ˆë‹¤.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>manual_counts</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>year</span>, y <span class='op'>=</span> <span class='va'>n</span>, fill <span class='op'>=</span> <span class='va'>class_group</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='va'>class</span><span class='op'>)</span>, col <span class='op'>=</span> <span class='st'>'white'</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_alpha_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>alpha_vals</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span></span>
<span>    x <span class='op'>=</span> <span class='st'>'Year'</span>,</span>
<span>    y <span class='op'>=</span> <span class='st'>'Counts'</span>,</span>
<span>    alpha <span class='op'>=</span> <span class='st'>'Class'</span>,</span>
<span>    title <span class='op'>=</span> <span class='st'>'Label directly'</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Add all but one label</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>labels</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>class</span> <span class='op'>!=</span> <span class='st'>'2seater'</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>class</span><span class='op'>)</span>, </span>
<span>    col <span class='op'>=</span> <span class='st'>'white'</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>'firasans'</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>5</span>,</span>
<span>    fontface <span class='op'>=</span> <span class='st'>'bold'</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Add 2seater label</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>labels</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>class</span> <span class='op'>==</span> <span class='st'>'2seater'</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>n</span> <span class='op'>+</span> <span class='fl'>3</span>, label <span class='op'>=</span> <span class='va'>class</span><span class='op'>)</span>, </span>
<span>    col <span class='op'>=</span> <span class='st'>'black'</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>'firasans'</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>5</span>,</span>
<span>    fontface <span class='op'>=</span> <span class='st'>'bold'</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>'none'</span><span class='op'>)</span> </span></code></pre>
</div>
<p><img src="coloring-guide-for-ggplot2_files/figure-html5/spend_label4-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<h2 id="ë§ºìŒ-ë§">ë§ºìŒ ë§</h2>
<p>ì´ë²ˆì— í¬ìŠ¤íŒ…ì„ ì¤€ë¹„í•˜ë©° ì°¸ê³ í–ˆë˜ ê¸€ì€ ìµœê·¼ì— ë´¤ë˜ ë°ì´í„° ì‹œê°í™” ê´€ë ¨
ì•„í‹°í´ ì¤‘ ì œê²Œ ê°€ì¥ í° ì„íŒ©íŠ¸ë¥¼ ì£¼ëŠ” ê¸€ì´ì—ˆìŠµë‹ˆë‹¤. ê¸€ì˜ ì œëª©ê³¼ ê·¸ë¦¼ë§Œ ì­‰
í›‘ì–´ë³´ë©°, â€œì™€ ì´ê±´ ë‚´ê°€ ë‚˜ì¤‘ì— ê¼­ ë”°ë¡œ ì •ë¦¬í•´ë†”ì•¼ì§€.â€ í•  ì •ë„ë¡œ í¥ë¯¸ë¡œìš´
ë‚´ìš©ì´ì—ˆì£ . ì´ ê¸€ì„ ë³¸ì§€ ê½¤ë‚˜ ì‹œê°„ì´ í˜ë €ëŠ”ë°, ì´ì œì„œì•¼ í¬ìŠ¤íŒ…ì„ í•˜ë„¤ìš”.
ì§€ê¸ˆ ì´ ê¸€ì„ ì½ê³  ê³„ì‹  ì—¬ëŸ¬ë¶„ë“¤ì—ê²Œë„ ì¢‹ì€ ì¸ì‚¬ì´íŠ¸ë¥¼ ì¤„ ìˆ˜ ìˆëŠ” ê¸€ì´
ë˜ì—ˆìœ¼ë©´ í•©ë‹ˆë‹¤.</p>
<p>ì „ë‹¬í•˜ê³ ì í•˜ëŠ” ë‚´ìš©ì´ í•œ ëˆˆì— ë“¤ì–´ë„ë¡ ì‹œê°í™”ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…ì€
ì˜ì™¸ë¡œ ì‰¬ìš¸ ë•Œë„ ìˆì§€ë§Œ, ë³¸ ê¸€ì˜ ë§ˆì§€ë§‰ ì˜ˆì œì™€ ê°™ì´ ì¢€ ë” ì»´íŒ©íŠ¸í•œ
ì‹œê°í™”ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„œ ê½¤ë‚˜ ê¹Œë‹¤ë¡œìš´ ê³¼ì •ì„ ê±°ì³ì•¼í•˜ëŠ” ìƒí™©ë„
ì¡´ì¬í•©ë‹ˆë‹¤. ì‹¤ë¬´ì—ì„œëŠ” ì´ì™€ëŠ” ë˜ë‹¤ë¥¸ ì˜ˆìƒì¹˜ ëª»í•œ ê¹Œë‹¤ë¡œìš´ ë¬¸ì œë“¤ì„ ê²ªëŠ”
ìƒí™©ë“¤ì´ ìˆì„ ìˆ˜ë„ ìˆêµ¬ìš”. ë‹¤ë§Œ, ë³¸ ê¸€ì—ì„œ ê·¸ë¦¼ì˜ í€„ë¦¬í‹°ë¥¼ ë‹¨ê³„ë‹¨ê³„
ê°œì„ í•´ë‚˜ê°„ ë°”ì™€ ê°™ì´ ì „ë‹¬í•˜ê³ ì í•˜ëŠ” ë‚´ìš©ì„ ëª…í™•íˆí•˜ê³  ì¶©ë¶„í•œ ì‹œê°„ì„
ìˆ™ê³ í•´ ê·¸ë¦¼ì„ ê°œì„ í•´ ë‚˜ê°„ë‹¤ë©´, ë­ë“  í•´ê²°í•  ìˆ˜ ìˆì„ ê²ƒì´ë¼ê³  ë´…ë‹ˆë‹¤.
ê²°êµ­, í•˜ê³ ì í•˜ëŠ” ì‹œê°í™”ë¥¼ êµ¬í˜„í•˜ì§€ ëª»í•´ë‚¸ë‹¤ê³  í•˜ë”ë¼ë„ ê·¸ ê³¼ì • ì†ì—ì„œ
ë°°ìš°ëŠ” ê²ƒì€ ë¶„ëª…íˆ ì¡´ì¬í•  ê²ƒì…ë‹ˆë‹¤. ì²˜ìŒë¶€í„° ì™„ë²½í•˜ê²Œ ì•„ë¦„ë‹¤ìš´ ì‹œê°í™”ë¥¼
í•´ë‚¼ ìˆ˜ ìˆëŠ” ì‚¬ëŒì€ ì—†ë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.ğŸ˜</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<div id="refs" class="references csl-bib-body hanging-indent"
role="doc-bibliography">
<div id="ref-rapp2022" class="csl-entry" role="doc-biblioentry">
Rapp, Albert. 2022. <span>â€œ4 Ways to Use Colors in Ggplot More
Efficiently.â€</span> <a
href="https://albert-rapp.de/posts/ggplot2-tips/07_four_ways_colors_more_efficiently/07_four_ways_colors_more_efficiently.html">https://albert-rapp.de/posts/ggplot2-tips/07_four_ways_colors_more_efficiently/07_four_ways_colors_more_efficiently.html</a>.
</div>
</div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
<h3 id="references">References</h3>
<div id="references-listing"></div>
<h3 id="reuse">Reuse</h3>
<p>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a>. The figures that have been reused from other sources don't fall under this license and can be recognized by a note in their caption: "Figure from ...".</p>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
